name: üöÄ Deploy Node.js with HTTPS

on:
  push:
    branches:
      - main
  workflow_dispatch:
    inputs:
      project_url:
        description: 'GitHub URL of Node.js project to deploy'
        required: false
        default: ''

env:
  # GitHub URL of the Node.js project to deploy
  NODE_PROJECT_URL_TO_DEPLOY: ${{ secrets.NODE_PROJECT_URL_TO_DEPLOY || github.event.inputs.project_url }}
  
  # App configuration
  APP_NAME: nodejs-app
  APP_DIR: /home/${{ secrets.SSH_USER }}/apps/nodejs-app
  APP_PORT: 3000
  NODE_VERSION: 20
  
  # SSL/Domain configuration (NEW)
  DOMAIN: ${{ secrets.DOMAIN }}
  SSL_EMAIL: ${{ secrets.SSL_EMAIL }}

jobs:
  deploy:
    name: Setup & Deploy with HTTPS
    runs-on: ubuntu-latest
    
    steps:
      # ==========================================
      # Step 1: Validate Environment Variables
      # ==========================================
      - name: ‚úÖ Validate Configuration
        run: |
          echo "Validating required environment variables..."
          
          if [ -z "${{ env.NODE_PROJECT_URL_TO_DEPLOY }}" ]; then
            echo "‚ùå ERROR: NODE_PROJECT_URL_TO_DEPLOY is not set!"
            echo "Please set it in GitHub Secrets or provide via workflow_dispatch"
            exit 1
          fi
          
          if [ -z "${{ secrets.SSH_HOST }}" ]; then
            echo "‚ùå ERROR: SSH_HOST secret is not set!"
            exit 1
          fi
          
          if [ -z "${{ secrets.SSH_USER }}" ]; then
            echo "‚ùå ERROR: SSH_USER secret is not set!"
            exit 1
          fi
          
          if [ -z "${{ secrets.SSH_PRIVATE_KEY }}" ]; then
            echo "‚ùå ERROR: SSH_PRIVATE_KEY secret is not set!"
            exit 1
          fi
          
          echo "‚úÖ All required variables are set!"
          echo "üì¶ Project to deploy: ${{ env.NODE_PROJECT_URL_TO_DEPLOY }}"
          echo "üñ•Ô∏è  Target host: ${{ secrets.SSH_HOST }}"
          
          # Check if HTTPS will be enabled
          if [ -n "${{ env.DOMAIN }}" ]; then
            echo "üîê Domain configured: ${{ env.DOMAIN }}"
            echo "üîí HTTPS will be enabled with Let's Encrypt"
          else
            echo "‚ö†Ô∏è  No domain configured - HTTP only"
            echo "üí° Add DOMAIN and SSL_EMAIL secrets for HTTPS"
          fi

      # ==========================================
      # Step 2: Initial VM Setup (One-time)
      # ==========================================
      - name: üõ†Ô∏è Setup VM Environment
        uses: appleboy/ssh-action@v1.0.3
        with:
          host: ${{ secrets.SSH_HOST }}
          username: ${{ secrets.SSH_USER }}
          key: ${{ secrets.SSH_PRIVATE_KEY }}
          port: 22
          command_timeout: 30m
          script: |
            set -e
            
            echo "================================"
            echo "üöÄ Starting VM Setup"
            echo "================================"
            
            # Update system packages
            echo "üì¶ Updating system packages..."
            sudo apt-get update
            
            # Install essential packages
            echo "üì¶ Installing essential packages..."
            sudo DEBIAN_FRONTEND=noninteractive apt-get install -y \
              curl \
              wget \
              git \
              build-essential \
              ufw \
              --no-install-recommends
            
            # Install Node.js
            if ! command -v node &> /dev/null; then
              echo "üì¶ Installing Node.js ${{ env.NODE_VERSION }}..."
              curl -fsSL https://deb.nodesource.com/setup_${{ env.NODE_VERSION }}.x | sudo -E bash -
              sudo apt-get install -y nodejs
            else
              echo "‚úÖ Node.js already installed: $(node -v)"
            fi
            
            # Install PM2
            if ! command -v pm2 &> /dev/null; then
              echo "üì¶ Installing PM2..."
              sudo npm install -g pm2
            else
              echo "‚úÖ PM2 already installed: $(pm2 -v)"
            fi
            
            # Install Nginx
            if ! command -v nginx &> /dev/null; then
              echo "üì¶ Installing Nginx..."
              sudo apt-get install -y nginx
            else
              echo "‚úÖ Nginx already installed"
            fi
            
            # Install Certbot for SSL (if domain is configured)
            if [ -n "${{ env.DOMAIN }}" ]; then
              if ! command -v certbot &> /dev/null; then
                echo "üì¶ Installing Certbot for SSL..."
                sudo apt-get install -y certbot python3-certbot-nginx
              else
                echo "‚úÖ Certbot already installed"
              fi
            fi
            
            # Configure UFW (Firewall)
            echo "üî• Configuring firewall..."
            sudo ufw --force reset
            sudo ufw default deny incoming
            sudo ufw default allow outgoing
            sudo ufw allow 22/tcp
            sudo ufw allow 80/tcp
            sudo ufw allow 443/tcp
            sudo ufw allow OpenSSH
            sudo ufw allow 'Nginx Full'
            sudo ufw --force enable
            sudo ufw status
            
            # Create application directory
            echo "üìÅ Creating application directory..."
            mkdir -p ${{ env.APP_DIR }}
            
            # Setup PM2 startup script
            echo "üîÑ Configuring PM2 startup..."
            pm2 startup systemd -u ${{ secrets.SSH_USER }} --hp /home/${{ secrets.SSH_USER }} | grep "sudo" | sudo bash || true
            
            echo "‚úÖ VM Setup Complete!"
            echo "================================"

      # ==========================================
      # Step 3: Clone & Setup Application
      # ==========================================
      - name: üì• Clone and Setup Application
        uses: appleboy/ssh-action@v1.0.3
        with:
          host: ${{ secrets.SSH_HOST }}
          username: ${{ secrets.SSH_USER }}
          key: ${{ secrets.SSH_PRIVATE_KEY }}
          port: 22
          command_timeout: 30m
          script: |
            set -e
            
            echo "================================"
            echo "üì• Cloning Application"
            echo "================================"
            
            cd ${{ env.APP_DIR }}
            
            # Remove existing files if present
            if [ -d ".git" ]; then
              echo "üóëÔ∏è  Removing existing repository..."
              cd ..
              rm -rf ${{ env.APP_DIR }}
              mkdir -p ${{ env.APP_DIR }}
              cd ${{ env.APP_DIR }}
            fi
            
            # Clone the repository
            echo "üì• Cloning from: ${{ env.NODE_PROJECT_URL_TO_DEPLOY }}"
            git clone ${{ env.NODE_PROJECT_URL_TO_DEPLOY }} .
            
            # Detect package manager and install dependencies
            echo "üì¶ Installing dependencies..."
            if [ -f "package-lock.json" ]; then
              echo "Using npm..."
              npm ci --production
            elif [ -f "yarn.lock" ]; then
              echo "Using yarn..."
              npm install -g yarn
              yarn install --production
            elif [ -f "pnpm-lock.yaml" ]; then
              echo "Using pnpm..."
              npm install -g pnpm
              pnpm install --prod
            else
              echo "Using npm install..."
              npm install --production
            fi
            
            # Run build if build script exists
            if grep -q '"build"' package.json 2>/dev/null; then
              echo "üî® Running build..."
              npm run build || echo "‚ö†Ô∏è  Build script failed or not needed"
            fi
            
            echo "‚úÖ Application setup complete!"
            echo "================================"

      # ==========================================
      # Step 4: Detect Entry Point & Start Script
      # ==========================================
      - name: üîç Configure Application  
        uses: appleboy/ssh-action@v1.0.3
        with:
          host: ${{ secrets.SSH_HOST }}
          username: ${{ secrets.SSH_USER }}
          key: ${{ secrets.SSH_PRIVATE_KEY }}
          port: 22
          script: |
            set -e
            cd ${{ env.APP_DIR }}
            
            echo "üîç Configuring application..."
            mkdir -p logs
            
            # Use Node.js to create the config
            node <<'NODESCRIPT'
            const fs = require('fs');
            const path = require('path');
            
            let config = {
              apps: [{
                name: 'nodejs-app',
                instances: 1,
                autorestart: true,
                watch: false,
                max_memory_restart: '500M',
                env: { NODE_ENV: 'production', PORT: 3000 },
                error_file: './logs/err.log',
                out_file: './logs/out.log',
                log_date_format: 'YYYY-MM-DD HH:mm:ss'
              }]
            };
            
            // Detect entry point
            try {
              const pkg = require('./package.json');
              
              if (pkg.scripts && pkg.scripts.start) {
                console.log('‚úÖ Using npm start');
                config.apps[0].script = 'npm';
                config.apps[0].args = 'start';
              } else if (pkg.main) {
                console.log('‚úÖ Using main:', pkg.main);
                config.apps[0].script = pkg.main;
              } else {
                throw new Error('No start script or main field');
              }
            } catch (e) {
              // Find entry point manually
              const entries = ['index.js', 'server.js', 'app.js', 'src/index.js', 'src/server.js'];
              const entry = entries.find(f => fs.existsSync(f));
              
              if (!entry) {
                console.error('‚ùå ERROR: No entry point found!');
                process.exit(1);
              }
              
              console.log('‚úÖ Found entry:', entry);
              config.apps[0].script = entry;
            }
            
            // Write config
            fs.writeFileSync('ecosystem.config.js', 
              'module.exports = ' + JSON.stringify(config, null, 2) + ';\n'
            );
            
            console.log('‚úÖ Configuration created');
            NODESCRIPT
            
            cat ecosystem.config.js

      # ==========================================
      # Step 5: Configure Nginx (HTTP/HTTPS Ready)
      # ==========================================
      - name: üåê Configure Nginx
        uses: appleboy/ssh-action@v1.0.3
        with:
          host: ${{ secrets.SSH_HOST }}
          username: ${{ secrets.SSH_USER }}
          key: ${{ secrets.SSH_PRIVATE_KEY }}
          port: 22
          script: |
            set -e
            
            echo "üåê Configuring Nginx..."
            
            DOMAIN="${{ env.DOMAIN }}"
            
            if [ -n "$DOMAIN" ]; then
              # Configuration for domain (HTTPS-ready)
              echo "üîê Configuring Nginx for domain: $DOMAIN"
              
              sudo tee /etc/nginx/sites-available/${{ env.APP_NAME }} > /dev/null <<EOF
            server {
                listen 80;
                listen [::]:80;
                server_name $DOMAIN www.$DOMAIN;
                
                # Security headers
                add_header X-Frame-Options "SAMEORIGIN" always;
                add_header X-Content-Type-Options "nosniff" always;
                add_header X-XSS-Protection "1; mode=block" always;
                
                # Logging
                access_log /var/log/nginx/${{ env.APP_NAME }}_access.log;
                error_log /var/log/nginx/${{ env.APP_NAME }}_error.log;
                
                location / {
                    proxy_pass http://localhost:${{ env.APP_PORT }};
                    proxy_http_version 1.1;
                    
                    # WebSocket support
                    proxy_set_header Upgrade \$http_upgrade;
                    proxy_set_header Connection 'upgrade';
                    
                    # Proxy headers
                    proxy_set_header Host \$host;
                    proxy_set_header X-Real-IP \$remote_addr;
                    proxy_set_header X-Forwarded-For \$proxy_add_x_forwarded_for;
                    proxy_set_header X-Forwarded-Proto \$scheme;
                    
                    # Timeouts
                    proxy_connect_timeout 60s;
                    proxy_send_timeout 60s;
                    proxy_read_timeout 60s;
                    
                    # Buffer settings
                    proxy_buffering on;
                    proxy_buffer_size 4k;
                    proxy_buffers 8 4k;
                    
                    proxy_cache_bypass \$http_upgrade;
                }
                
                # Increase max body size for file uploads
                client_max_body_size 50M;
            }
            EOF
            
            else
              # Configuration for IP only (HTTP)
              echo "üìç Configuring Nginx for IP address (HTTP only)"
              
              sudo tee /etc/nginx/sites-available/${{ env.APP_NAME }} > /dev/null <<'EOF'
            server {
                listen 80 default_server;
                listen [::]:80 default_server;
                
                server_name _;
                
                # Security headers
                add_header X-Frame-Options "SAMEORIGIN" always;
                add_header X-Content-Type-Options "nosniff" always;
                add_header X-XSS-Protection "1; mode=block" always;
                
                # Logging
                access_log /var/log/nginx/${{ env.APP_NAME }}_access.log;
                error_log /var/log/nginx/${{ env.APP_NAME }}_error.log;
                
                location / {
                    proxy_pass http://localhost:${{ env.APP_PORT }};
                    proxy_http_version 1.1;
                    
                    # WebSocket support
                    proxy_set_header Upgrade $http_upgrade;
                    proxy_set_header Connection 'upgrade';
                    
                    # Proxy headers
                    proxy_set_header Host $host;
                    proxy_set_header X-Real-IP $remote_addr;
                    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
                    proxy_set_header X-Forwarded-Proto $scheme;
                    
                    # Timeouts
                    proxy_connect_timeout 60s;
                    proxy_send_timeout 60s;
                    proxy_read_timeout 60s;
                    
                    # Buffer settings
                    proxy_buffering on;
                    proxy_buffer_size 4k;
                    proxy_buffers 8 4k;
                    
                    proxy_cache_bypass $http_upgrade;
                }
                
                # Increase max body size for file uploads
                client_max_body_size 50M;
            }
            EOF
            
            fi
            
            # Enable site and remove default
            sudo ln -sf /etc/nginx/sites-available/${{ env.APP_NAME }} /etc/nginx/sites-enabled/
            sudo rm -f /etc/nginx/sites-enabled/default
            
            # Test Nginx configuration
            echo "üß™ Testing Nginx configuration..."
            sudo nginx -t
            
            # Restart Nginx
            echo "üîÑ Restarting Nginx..."
            sudo systemctl restart nginx
            sudo systemctl enable nginx
            
            echo "‚úÖ Nginx configured and running!"

      # ==========================================
      # Step 6: Setup SSL Certificate with Let's Encrypt (NEW)
      # ==========================================
      - name: üîí Setup HTTPS with Let's Encrypt
        if: env.DOMAIN != ''
        uses: appleboy/ssh-action@v1.0.3
        with:
          host: ${{ secrets.SSH_HOST }}
          username: ${{ secrets.SSH_USER }}
          key: ${{ secrets.SSH_PRIVATE_KEY }}
          port: 22
          script: |
            set -e
            
            DOMAIN="${{ env.DOMAIN }}"
            EMAIL="${{ env.SSL_EMAIL }}"
            
            # Use default email if not provided
            if [ -z "$EMAIL" ]; then
              EMAIL="admin@$DOMAIN"
            fi
            
            echo "================================"
            echo "üîí Setting up SSL Certificate"
            echo "================================"
            echo "Domain: $DOMAIN"
            echo "Email: $EMAIL"
            echo ""
            
            # Obtain SSL certificate
            echo "üìú Requesting SSL certificate from Let's Encrypt..."
            
            sudo certbot --nginx \
              -d "$DOMAIN" \
              -d "www.$DOMAIN" \
              --non-interactive \
              --agree-tos \
              --email "$EMAIL" \
              --redirect \
              --hsts \
              --staple-ocsp || {
                echo "‚ö†Ô∏è  Failed to get certificate for www.$DOMAIN"
                echo "üîÑ Trying without www subdomain..."
                
                sudo certbot --nginx \
                  -d "$DOMAIN" \
                  --non-interactive \
                  --agree-tos \
                  --email "$EMAIL" \
                  --redirect \
                  --hsts \
                  --staple-ocsp
              }
            
            if [ $? -eq 0 ]; then
              echo ""
              echo "‚úÖ SSL Certificate obtained successfully!"
              echo ""
              
              # Setup auto-renewal
              echo "üîÑ Setting up automatic renewal..."
              sudo systemctl enable certbot.timer
              sudo systemctl start certbot.timer
              
              # Test renewal
              echo "üß™ Testing certificate renewal..."
              sudo certbot renew --dry-run
              
              echo ""
              echo "‚úÖ SSL setup complete!"
              echo "üîê Certificate will auto-renew every 90 days"
              
              # Display certificate info
              echo ""
              echo "üìã Certificate Information:"
              sudo certbot certificates
              
            else
              echo ""
              echo "‚ùå Failed to obtain SSL certificate"
              echo "‚ö†Ô∏è  Your site will run on HTTP only"
              echo ""
              echo "Possible issues:"
              echo "  1. DNS not pointing to this server"
              echo "  2. Firewall blocking port 80/443"
              echo "  3. Domain name not propagated yet"
              echo ""
              echo "üí° Check your DuckDNS configuration:"
              echo "   - Domain: $DOMAIN"
              echo "   - Points to: $(curl -s ifconfig.me)"
            fi

      # ==========================================
      # Step 7: Start Application with PM2
      # ==========================================
      - name: üöÄ Start Application
        uses: appleboy/ssh-action@v1.0.3
        with:
          host: ${{ secrets.SSH_HOST }}
          username: ${{ secrets.SSH_USER }}
          key: ${{ secrets.SSH_PRIVATE_KEY }}
          port: 22
          script: |
            set -e
            
            cd ${{ env.APP_DIR }}
            
            echo "üöÄ Starting application with PM2..."
            
            # Stop and delete existing app if running
            pm2 delete ${{ env.APP_NAME }} 2>/dev/null || echo "No existing app to delete"
            
            # Verify ecosystem.config.js exists
            if [ ! -f "ecosystem.config.js" ]; then
              echo "‚ùå ERROR: ecosystem.config.js not found!"
              exit 1
            fi
            
            echo "üìÑ Using configuration:"
            cat ecosystem.config.js
            
            # Start application
            echo ""
            echo "‚ñ∂Ô∏è  Starting PM2..."
            pm2 start ecosystem.config.js
            
            # Wait a moment for app to start
            sleep 3
            
            # Check if app started successfully
            if pm2 list | grep -q "online"; then
              echo "‚úÖ Application started successfully!"
            else
              echo "‚ùå Application failed to start!"
              echo "üìã PM2 Status:"
              pm2 status
              echo ""
              echo "üìù PM2 Logs:"
              pm2 logs ${{ env.APP_NAME }} --lines 50 --nostream
              exit 1
            fi
            
            # Save PM2 process list
            pm2 save
            
            # Show status
            echo ""
            echo "üìä Current Status:"
            pm2 status
            
            echo ""
            echo "üìù Recent Logs:"
            pm2 logs ${{ env.APP_NAME }} --lines 20 --nostream

      # ==========================================
      # Step 8: Health Check
      # ==========================================
      - name: üè• Health Check
        uses: appleboy/ssh-action@v1.0.3
        with:
          host: ${{ secrets.SSH_HOST }}
          username: ${{ secrets.SSH_USER }}
          key: ${{ secrets.SSH_PRIVATE_KEY }}
          port: 22
          script: |
            echo "üè• Running health check..."
            echo "‚è≥ Waiting for application to start..."
            sleep 10
            
            # Try to access the application
            MAX_ATTEMPTS=15
            ATTEMPT=1
            
            while [ $ATTEMPT -le $MAX_ATTEMPTS ]; do
              echo "Attempt $ATTEMPT/$MAX_ATTEMPTS..."
              
              # Try localhost first
              if curl -f -s http://localhost:${{ env.APP_PORT }} > /dev/null 2>&1; then
                echo "‚úÖ Application is responding on port ${{ env.APP_PORT }}!"
                break
              fi
              
              if [ $ATTEMPT -eq $MAX_ATTEMPTS ]; then
                echo "‚ùå Health check failed after $MAX_ATTEMPTS attempts"
                echo "üìù Checking PM2 logs:"
                pm2 logs ${{ env.APP_NAME }} --lines 20 --nostream
                exit 1
              fi
              
              ATTEMPT=$((ATTEMPT + 1))
              sleep 3
            done
            
            # Test through Nginx
            echo ""
            echo "üåê Testing Nginx proxy..."
            if curl -f -s http://localhost > /dev/null 2>&1; then
              echo "‚úÖ Nginx proxy is working!"
            else
              echo "‚ö†Ô∏è  Nginx proxy may have issues"
            fi

      # ==========================================
      # Step 9: Deployment Summary & Live URL
      # ==========================================
      - name: üìä Deployment Summary
        uses: appleboy/ssh-action@v1.0.3
        with:
          host: ${{ secrets.SSH_HOST }}
          username: ${{ secrets.SSH_USER }}
          key: ${{ secrets.SSH_PRIVATE_KEY }}
          port: 22
          script: |
            DOMAIN="${{ env.DOMAIN }}"
            
            echo ""
            echo "========================================"
            echo "‚úÖ DEPLOYMENT SUCCESSFUL!"
            echo "========================================"
            echo ""
            echo "üì¶ Application: ${{ env.APP_NAME }}"
            echo "üîó Repository: ${{ env.NODE_PROJECT_URL_TO_DEPLOY }}"
            echo "üìç Deployed to: ${{ env.APP_DIR }}"
            echo ""
            
            if [ -n "$DOMAIN" ]; then
              # Check if SSL certificate exists
              if [ -f "/etc/letsencrypt/live/$DOMAIN/fullchain.pem" ]; then
                echo "üåê LIVE URL (HTTPS - Secure):"
                echo "========================================"
                echo "   üîí https://$DOMAIN"
                echo "========================================"
                echo ""
                echo "‚úÖ SSL Certificate: Active"
                echo "üîÑ Auto-renewal: Enabled"
                echo "üìß Notifications: ${{ env.SSL_EMAIL }}"
                echo ""
                echo "üìù Note: HTTP automatically redirects to HTTPS"
              else
                echo "üåê LIVE URL (HTTP):"
                echo "========================================"
                echo "   http://$DOMAIN"
                echo "========================================"
                echo ""
                echo "‚ö†Ô∏è  SSL setup failed - using HTTP only"
                echo "üí° Check DNS and try redeploying"
              fi
            else
              echo "üåê LIVE URL (HTTP - No Domain):"
              echo "========================================"
              echo "   http://${{ secrets.SSH_HOST }}"
              echo "========================================"
              echo ""
              echo "üí° To enable HTTPS:"
              echo "   1. Get a domain (free: duckdns.org)"
              echo "   2. Add DOMAIN secret in GitHub"
              echo "   3. Add SSL_EMAIL secret in GitHub"
              echo "   4. Redeploy"
            fi
            
            echo ""
            echo "üìä Application Status:"
            pm2 status
            echo ""
            echo "üìù Recent Logs:"
            pm2 logs ${{ env.APP_NAME }} --lines 15 --nostream
            echo ""
            echo "üîß Useful Commands:"
            echo "  - View logs: pm2 logs ${{ env.APP_NAME }}"
            echo "  - Restart app: pm2 restart ${{ env.APP_NAME }}"
            echo "  - Stop app: pm2 stop ${{ env.APP_NAME }}"
            echo "  - App status: pm2 status"
            if [ -n "$DOMAIN" ]; then
              echo "  - Renew SSL: sudo certbot renew"
              echo "  - SSL status: sudo certbot certificates"
            fi
            echo ""
            echo "========================================"

      # ==========================================
      # Step 10: Display Live URL (GitHub Actions Output)
      # ==========================================
      - name: üéâ Display Live URL
        run: |
          DOMAIN="${{ env.DOMAIN }}"
          
          echo ""
          echo "========================================="
          echo "üéâ DEPLOYMENT COMPLETE!"
          echo "========================================="
          echo ""
          
          if [ -n "$DOMAIN" ]; then
            echo "üåç Your application is now live at:"
            echo ""
            echo "   üîí https://$DOMAIN"
            echo ""
            echo "========================================="
            echo ""
            echo "üîê Security Features:"
            echo "  ‚úÖ HTTPS enabled with Let's Encrypt"
            echo "  ‚úÖ SSL certificate auto-renews"
            echo "  ‚úÖ HTTP redirects to HTTPS"
            echo "  ‚úÖ Security headers enabled"
            echo ""
          else
            echo "üåç Your application is now live at:"
            echo ""
            echo "   üîó http://${{ secrets.SSH_HOST }}"
            echo ""
            echo "========================================="
            echo ""
            echo "‚ö†Ô∏è  Running on HTTP (not secure)"
            echo ""
            echo "üí° To enable HTTPS (FREE):"
            echo "  1. Get free domain: https://duckdns.org"
            echo "  2. Add GitHub Secrets:"
            echo "     - DOMAIN: yourapp.duckdns.org"
            echo "     - SSL_EMAIL: your@email.com"
            echo "  3. Push code to redeploy"
            echo ""
          fi
          
          echo "üìù Additional Information:"
          echo "  - Application: ${{ env.APP_NAME }}"
          echo "  - Port: ${{ env.APP_PORT }}"
          echo "  - Repository: ${{ env.NODE_PROJECT_URL_TO_DEPLOY }}"
          echo ""
          echo "‚úÖ Access your website from anywhere on the internet!"
          echo "========================================="
